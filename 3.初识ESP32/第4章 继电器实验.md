# 第四章 继电器实验

## 1. 导入

继电器是一种电子控制器件， 相当于一个开关， 接在任意线上， 断开状态下线就断开， 没导通， 闭合状态下线就接在一起， 导通。 通常使用继电器可实现小电流控制大电流， 或者低压控制高压等设备。 比如 ESP32 的 GPIO 输出电平是3.3V， 要控制 24V 或者 220V 高压设备， 可选择继电器。

继电器接线示意图如下所示：

![屏幕截图 2024 08 04 130303](https://img.picgo.net/2024/08/04/-2024-08-04-130303b6ea8ad19e24327b.png)

默认情况下， 常闭触点和公共触点是导通连接在一起的， 当继电器工作后，公共触点和常闭触点就断开， 然后常开触点和公共触点导通连接在一起， 这就像开关一样。

参考：[电磁继电器工作原理透彻详解（1） - 阳光&amp;技术 - 博客园](https://www.cnblogs.com/sunshine-jackie/p/8587321.html)

## 2. 硬件设计

- 继电器模块

- ESP32 GPIO

- D1指示灯

模块电路如下：

![屏幕截图 2024 08 04 130513](https://img.picgo.net/2024/08/04/-2024-08-04-1305136f792f4b6cd6189e.png)

由图可知， J2 端子的 RELAY 脚为继电器控制端， 要使继电器工作， 只需给J2 端子的 RELAY 脚输出一个高电平， 因此可使用导线将 ESP32 的 IO 口与 J2 端子的 RELAY 脚连接， 通过 ESP32 的 GPIO 输出高电平即可， 若要继电器不工作，则输出低电平。 P4 端子为继电器接线端子， COM 为公共触点、 NO 为常开触点、NC 为常闭触点。

本章实验使用 ESP32 的 IO25 引脚， 接线如下所示：

![屏幕截图 2024 08 04 130952](https://img.picgo.net/2024/08/04/-2024-08-04-130952ae55771d8669f6a9.png)

## 3. 软件设计

```python
# 导入Pin模块
from machine import Pin
import time

# 定义LED引脚
relay = Pin(25, Pin.OUT)

if __name__ == '__main__':
    i = 0
    while True:
        i = not i # 翻转LED状态
        relay.value(i) # 设置LED状态
        time.sleep(1) # 延时1秒
# 继电器模块每隔一秒钟翻转一次LED的状态，实现开关功能。
```

## 4. 小结

代码很简单，这里我们重点需要理解的是继电器：继电器就像一个开关一样，我们可以用来控制很多硬件，这里我们选择控制led

- 设置引脚

- 状态不断翻转

- 从而控制led啦

---

2024.8.20 第一次修订，后期不再维护
